---
- name: Create default directories
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
  loop:
    - /tycho/System/Containers
    - /tycho/System/Containers/apps
    - /tycho/System/Containers/config
    - /tycho/System/Containers/data
  tags:
    - always

- import_tasks: cadvisor.yml
  tags:
    - cadvisor

- import_tasks: node-exporter.yml
  tags:
    - node-exporter

- import_tasks: watchtower.yml
  tags:
    - watchtower

- import_tasks: diun.yml
  tags:
    - diun

- import_tasks: minio.yml
  tags:
    - minio

- import_tasks: vault.yml
  tags:
    - vault

- import_tasks: promtail.yml
  tags:
    - promtail

- import_tasks: traefik.yml
  tags:
    - traefik

- import_tasks: postgresql.yml
  tags:
    - postgresql

- import_tasks: nexus.yml
  tags:
    - nexus

- import_tasks: time-machine.yml
  tags:
    - time-machine

- import_tasks: docker.yml
  tags:
    - docker
